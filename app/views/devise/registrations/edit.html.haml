.page-title
  %h2
    Edit #{resource_name.to_s.humanize} Settings

%hr

= form_for(resource, as: resource_name, url: registration_path(resource_name),
  html: { method: :put, class: 'form-horizontal' }) do |f|
  = devise_error_messages!

  %h3 Basic Info

  %fieldset.control-group
    = f.label :first_name, class: 'control-label'
    .controls
      = f.text_field :first_name

  %fieldset.control-group
    = f.label :last_name, class: 'control-label'
    .controls
      = f.text_field :last_name

  %fieldset.control-group
    = f.label :email, class: 'control-label'
    .controls
      = f.email_field :email

  %hr

  %h3 Change your password

  %fieldset.control-group
    = f.label :password, class: 'control-label'
    .controls
      = f.password_field :password, autocomplete: "off"
      %i (leave blank if you don't want to change it)

  %fieldset.control-group
    = f.label :password_confirmation, class: 'control-label'
    .controls
      = f.password_field :password_confirmation

  %hr

  %h3 Digest email

  %fieldset.control-group
    = f.label :digest_email, class: 'control-label'
    .controls
      = label_tag(:digest_email_true, class: 'radio') do
        = f.radio_button :digest_email, true
        Yes, please!

      = label_tag(:digest_email_false, class: 'radio') do
        = f.radio_button :digest_email, false
        I'll read the site when I damn well please, thank you.

  %hr

  %h3 Confirm your changes

  %p
    If you made any changes, enter your password here.  We ask for your password
    just to make sure it's you making changes to your profile.

  %fieldset.control-group
    = f.label :current_password, class: 'control-label'
    .controls
      = f.password_field :current_password

  .form-actions.devise-form-button
    = f.submit "Update", class: 'btn btn-primary'
    = link_to 'Cancel', :back, class: 'btn btn-danger'


  %fieldset.control-group
    .controls
      %h3 Cancel my account
      %p
        Unhappy? #{link_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete}.
